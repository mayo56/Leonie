"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SlashChoice = void 0;
const internal_1 = require("@discordx/internal");
const index_js_1 = require("../../index.js");
function SlashChoice(name, value) {
    return function (target, key, index) {
        index_js_1.MetadataStorage.instance.addModifier(internal_1.Modifier.create((original) => {
            if (typeof name === "string" || typeof name === "number") {
                original.choices = [
                    ...original.choices,
                    index_js_1.DApplicationCommandOptionChoice.create(name.toString(), value ? value : name),
                ];
            }
            else {
                const allChoices = Object.keys(name).map((subKey) => {
                    return index_js_1.DApplicationCommandOptionChoice.create(subKey, name[subKey] ?? "undefined");
                });
                original.choices = [...original.choices, ...allChoices];
            }
        }, index_js_1.DApplicationCommandOption).decorate(target.constructor, key, target[key], target.constructor, index));
    };
}
exports.SlashChoice = SlashChoice;
//# sourceMappingURL=SlashChoice.js.map