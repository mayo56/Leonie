"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Guard = void 0;
const internal_1 = require("@discordx/internal");
const index_js_1 = require("../../index.js");
/**
 * Define middleware for buttons, events, select menus, simple commands, slashes, etc.
 * ___
 *
 * [View Documentation](https://discord-ts.js.org/docs/decorators/general/guard)
 *
 * @category Decorator
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function Guard(...fns) {
    return function (target, key, descriptor) {
        const guards = fns.map((fn) => {
            return index_js_1.DGuard.create(fn).decorateUnknown(target, key, descriptor);
        });
        index_js_1.MetadataStorage.instance.addModifier(internal_1.Modifier.create((original) => {
            original.guards = guards;
        }, index_js_1.DComponent, index_js_1.DApplicationCommand, index_js_1.DSimpleCommand, index_js_1.DOn, index_js_1.DDiscord).decorateUnknown(target, key, descriptor));
    };
}
exports.Guard = Guard;
//# sourceMappingURL=Guard.js.map